# Sample dependency graph for Postman collection
postman_collection_dependencies:
  endpoints:
    # Login endpoint sets the auth token
    "POST /auth/login":
      sets_variables:
        - token
      uses_variables: {}

    # Create User endpoint needs auth token and sets user ID
    "POST /users":
      sets_variables:
        - user_id
      uses_variables:
        token:
          type: dynamic
          set_by:
            - "POST /auth/login"

    # Get User endpoint needs both auth token and user ID
    "GET /users/{{user_id}}":
      uses_variables:
        token:
          type: dynamic
          set_by:
            - "POST /auth/login"
        user_id:
          type: dynamic
          set_by:
            - "POST /users"

    # Update User endpoint needs both auth token and user ID
    "PUT /users/{{user_id}}":
      uses_variables:
        token:
          type: dynamic
          set_by:
            - "POST /auth/login"
        user_id:
          type: dynamic
          set_by:
            - "POST /users"

  # Variable definitions and scoping
  variables:
    token:
      type: dynamic
      scope: function
      description: "Authentication token from login response"
      cleanup: true

    user_id:
      type: dynamic
      scope: function
      description: "User ID from create user response"
      cleanup: true

  # Optional folder exclusions
  exclude_folders:
    - "Auth/OAuth2"  # Example folder to exclude
    - "Users/Admin"  # Example folder to exclude
